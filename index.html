<!DOCTYPE html>
<html lang="en">
<head>
    <title>Cities in Oregon</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="The major cities in Oregon"/>
    <meta property="og:url" content="http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.5/video.html"/>
    <meta property="og:description" content="This is an example of a storymap."/>
    <meta property="og:image" content="../../img/social.png"/>

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!--leaflet css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">


    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon">

    <!--Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">


    <link rel="stylesheet" type="text/css" href="css/storymap.2.5.css">
    <!--add required libraries-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.js"></script>
    <!--jquery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

    <!--boostrap-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!--leaflet.ajax for asynchronously adding geojson data-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--mini globle map-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="js/globeminimap.js"></script>

    <!--story map plugin-->
    <script src="js/storymap.2.5.js"></script>
</head>
<body>

<div id="storymap" class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 storymap-story">
            <section data-scene="overview" data-background="assets/portland.mp4">
                <div class="fullscreen text-center">

                    <h1 class="display-4 d-flex justify-content-center">Geographic feautes of Southeastern Oregon</h1>


                    <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">This story map
                        illustrates the major geographic features in
                        S.E. Oregon using a storytelling structure.
                    </small>
                </div>
            </section>
            <section data-scene="hart">
                <h2>Hart Mountain</h2>
                <p>Hart Mountain National Antelope Refuge is located in southcentral Oregon on a massive fault block ridge that ascends abruptly nearly three-quarters of
                   a mile above the Warner Valley floor in a series of rugged cliffs, steep slopes, and knife-like ridges. </p>
                <p>The rugged diversity of the terrain creates a rich mix of habitat types, home to more than 300 species of wildlife.
                  Featured species include pronghorn antelope, California bighorn sheep, mule deer, greater sage-grouse, and redband trout.
                  The 278,000-acre refuge is one of the most expansive wildlife habitats in the arid West free of domestic livestock</p>
                <p>Since its creation in 1936 as a range for remnant herds of pronghorn antelope,
                  management of the refuge has broadened to include conservation of all wildlife species characteristic of this high desert
                   habitat and restoration of native ecosystems for the public's enjoyment, education, and appreciation. </p>
            </section>

            <section data-scene="steens">
                <h2>Steens Mountain</h2>
                <p>The Steens Mountain Cooperative Management and Protection Area (CMPA) consists of 428,156 acres of public land
                   offering diverse scenic and recreational experiences. The 52-mile Steens Mountain Backcountry Byway provides access to four campgrounds
                   and the views from Kiger Gorge, East Rim, Big Indian Gorge, Wildhorse and Little Blitzen Gorge overlooks are not to be missed!</p>
                <p>The United States Congress designated the Steens Mountain Wilderness in 2000 and it now has over 170,200 acres. All of this wilderness is located in Oregon and is managed by the Bureau of Land Management.
                  Steens Mountain is located in Oregon's high desert is one of the crown jewels of the state's wildlands. It is some of the wildest and most remote land left in Oregon.</p>
                <p>Popular activities include camping, picnicking, sightseeing, and exploring the open country on foot and horseback. Hiking is available in all areas and trailheads exist near Page Springs and South Steens Campgrounds, as well as Wildhorse Overlook and Pike Creek. Visitors photograph landscapes, wildlife and wildflowers, and catch redband trout in the Donner und Blitzen River. Others enjoy hunting for wild game and visiting special places, cross-country skiing, and snowshoeing.</p>
            </section>

            <section data-scene="owyhee">
                <h2>Owyhee River</h2>
                <p>The headwaters of the Owyhee River are found in Elko County in northeastern Nevada. The Owyhee flows north along the east side of the Independence Mountains before it proceeds through southwestern Idaho where
                   it is joined by the South Fork of the Owyhee River before reaching the Oregon border. In 1984, Congress designated 120 miles (193 km) of the Owyhee, beginning at the Idaho-Oregon border downstream to the Owyhee Reservoir
                   (excluding two short segments). The entire segment is classified as ‘wild.’</p>
                <p>Approximately 100 prehistoric campsites have been recorded on the lower segment of the Owyhee River between the Rome Launch Site and Burnt Creek Ranch.
                  The "Hole in the Ground" petroglyph site is one of the most outstanding sites of its kind in eastern Oregon.
                Rocks exposed along and adjacent to the Owyhee River range in age from the late Miocene to recent.
                From oldest to youngest, these groups consist of rhyolitic flows, basalt flows, sedimentary rocks, young lava and alluvial deposits.
                Benchlands were formed during a period of intensive volcanic activity.</p>
                <p>The Owyhee is recognized nationally as a prime early-season whitewater destination, popular for commercial and non-commercial river runners.
                  The Owyhee River Canyon provides diverse habitat for over 200 species of wildlife. Birds are especially abundant, both in number of species and number of individuals.
                  Riparian vegetation attracts unique populations of songbirds, and upland game birds include large populations of chukar partridge, California quail and Hungarian partridge.
                  California bighorn sheep are present, as are mule deer, pronghorn antelopes, cougars, bobcats and a variety of smaller mammals such as coyotes, badgers, otters, muskrats, marmots, raccoons, porcupines, and jack and cotton-tail rabbits.
                </p>
            </section>

            <section data-scene="malheur">
                <h2>Malhuer Lake</h2>
                <p>In the late 1880s, plume hunters decimated North American bird populations in pursuit of breeding feathers for the hat industry. Hunters targeted large flocks of colonial nesting birds and shorebirds,
                  killing birds indiscriminately and orphaning chicks. Eventually, the large numbers of colonial nesting birds on Malheur Lake were discovered by plume hunters.
                  In 1908, wildlife photographers William L. Finley and Herman T. Bohlman discovered that most of the white herons (egrets) on Malheur Lake had been killed in 1898 by plume hunters. After 10 years, the white heron population
                   still had not recovered. With backing from the Oregon Audubon Society, Finley and Bohlman proposed establishment of a bird reservation to protect birds, using Malheur, Mud and Harney lakes.</p>
                <p>The refuge now encompasses 187,757 acres of wildlife habitat. The 65,000-acre Blitzen Valley was purchased in 1935 and added to the refuge to secure water rights for Malheur and Mud lakes.
                The 14,000-acre Double-O Unit was added to the refuge in 1942 and provides important shorebird habitat, as well as waterfowl nesting areas. Malheur Refuge is situated within the Harney Basin in southeastern Oregon.
                Located in the Northern Great Basin, this portion of the State is lightly populated, generally arid with cold winters, and characterized by wide open spaces.</p>
                <p>The refuge constitutes a small percentage of the Northern Great Basin’s total acreage but is a tremendously important source of wildlife habitat relative to other portions of the Northern Great Basin.
                  The refuge represents a crucial stop along the Pacific Flyway and offers resting, breeding and nesting habitat for hundreds of migratory birds and other wildlife.
                   Many of the species migrating through or breeding here are highlighted as priority species in national bird conservation plans.</p>
            </section>
            <section data-scene="xmas">
                <h2>Christmas Lake Valley</h2>
                <p>The Fort Rock-Christmas Lake Valley Basin is the basin of a former inland sea that existed in that region from Pliocene through late Pleistocene time.
                  The Fort Rock basin maar field includes over 30 hydrovolcanic landforms spread over an area of 1,500 square miles (4,000 km2).
                  During the Pleistocene and early Holocene, Paleolake Fort Rock encompassed the entire basin.</p>
                <p>The Fort Rock Basin is a endorheic basin. Increased moisture in this semiarid environment during the Pleistocene through increased cloud cover and cooler temperatures resulted in higher lake levels.
                  At its maximum, the lake filled the basin up to 75 m deep (245ft), with a surface area of over 2,300 km2 (900 mi2).
                  While this is larger than any modern lakes in Oregon, Paleolake Fort Rock was smaller than any of the other paleolakes to the south.</p>
                  <p>Christmas Valley is an unincorporated community in Lake County, Oregon, United States.
                    The community was named after nearby Christmas Lake, usually dry, east of the present townsite and the site of the former Lake post office, which ran from 1906 until 1943. 
                    Real estate development around a planned community by M. Penn Phillips, called Christmas Valley, started after World War II. The Christmas Valley post office was established in 1963 as a rural station of Silver Lake </p>
            </section>

            <section data-scene="oregon">
                <h2>Oregon</h2>
                <!-- <p>Oregon was inhabited by many indigenous tribes before Western traders, explorers, and settlers
                    arrived. An autonomous government was formed in the Oregon Country in 1843 before the Oregon
                    Territory was created in 1848. Oregon became the 33rd state on February 14, 1859. Today, at 98,000
                    square miles (255,000 km²), Oregon is the ninth largest and, with a population of 4 million, 27th
                    most populous U.S. state. The capital of Oregon is Salem, the second most populous of its cities,
                    with 164,549 residents. Portland is Oregon's most populous city, with 632,309 residents, and ranks
                    as the 26th most populous city in the United States. Portland's metro population of 2,389,228 ranks
                    the 23rd largest metro in the nation. The Willamette Valley in western Oregon is the state's most
                    densely populated area, home to eight of the ten most populous cities.</p> -->
                <img src="img/oregon_flag.png" class="img-responsive img-thumbnail" alt="responsive image"
                     alt-text="the flag of oregon">
                <!-- <p>Oregon's landscape is diverse, with a windswept Pacific coastline; a volcano-studded Cascade Range;
                    abundant bodies of water in and west of the Cascades; dense evergreen, mixed, and deciduous forests
                    at lower elevations; and a high desert sprawling across much of its east all the way to the Great
                    Basin.</p> -->
            </section>

            <section data-scene="end" data-background="../../assets/end.jpg">
                <div class="fullscreen text-center">
                    <h1 class="display-4 d-flex justify-content-center">Thanks for watching!!!</h1>
                    <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">Your
                        Acknowledgement goes here
                    </small>
                </div>
            </section>

        </div>
        <!--map div-->
        <div class="col-sm-6 col-md-8 storymap-map"></div>
    </div>


    <dl>
        <dt>
            <!--facebook icon-->
            <a class="fab fa-facebook-square btn"
               href="https://facebook.com/sharer.php?u=http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.5/video.html"
               target="_blank"></a>
        </dt>
        <dt>
            <!--facebook icon-->
            <a class="fab fa-github btn" href="https://github.com/jakobzhao/storymap" style="top:40px"
               target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fas fa-info-circle btn" style="top:60px" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of major cities in Oregon. It is mainly made as a demo for a course GEOG 371:
                        Web Mapping provided by Oregon State University. The story map library is derived from the
                        storymap plugin for leaflet at <a>http://atlefren.github.io/storymap/</a>, and its functionality
                        relies on both leaflet and Boostrap.</p>
                    <p><b>storymap.js</b> | Released Date: 02/20/2017 | Version: 2.5 | MIT License </p>
                    <p><b>Author: Scott Schmidt</b> | College of Earth, Ocean, Atmospheric Science | Oregon State University
                    </p>
                    <p>The context about Oregon cities was collected from Wikipedia.</p>
                    <p>The <a href="https://www.youtube.com/watch?v=UJ_vQC9PNY4">background video</a> on the front page
                        was clipped from Youtube. </p>
                    <p>The favicon image was acquired from <a>http://www.udlcenter.org/advocacy/state/oregon.</a></p>
                    <p>This story map uses geospatial data from mapbox, Google Earth Engine, ESRI Map, Open Street Maps
                        and Oregon Explorer.</p>
                    <p>Data for this story map came from the US Dept. of the Interior, U.S. Fish & Wildlife Service, National Wilflife Refuge System, The BLM, rivers.gov,  </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- main javascript -->
<script type="text/javascript">


    // Create Legend Contents in html format
    var county_legend = '<i style="background: orange; opacity: 0.5"></i><p><b>Counties</b></p>';
    var forest_legend = '<i style="background: green; opacity: 0.5"></i><p><b>Forest</b></p>';

    // For each layer, the first variable is the layer, the second is the legend. The layer variable can be any kinds of layers that leaflet.js supports.
    // var layers = {
    //      layer1: {layer: layer1, legend: legend1},
    //      layer2: {layer: layer2, legend: legend2}
    //      ...
    // }

    var layers = {
        ESRI: {layer: L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}')},
        counties: {
            layer: L.geoJson.ajax('assets/counties.geojson', {color: 'orange', weight: 2, opacity: 0.3}),
            legend: county_legend
        },
        GEE: {
            layer: L.tileLayer('http://earthengine.google.org/static/hansen_2013/tree_alpha/{z}/{x}/{y}.png'),
            legend: forest_legend
        },
        satellite: {
            layer: L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {
                id: 'mapbox.satellite'
            })
        },
        cartodb_light: {
            layer: L.tileLayer('http://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png')},
        delorme: {
          layer: L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}')},
        natgeo: {
          layer:  L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}')
        },
    };


    var scenes = {
        overview: {lat: 42.6381549, lng: -118.5969229, zoom: 7, name: 'Cover Page', layers: []},
        hart: {lat: 42.5210097, lng: -120.0152137, zoom: 10, name: 'hart', layers: [layers.natgeo]},
        steens: {lat: 42.6381549, lng: -118.5969229, zoom: 10, name: 'steens', layers: [layers.natgeo]},
        owyhee: {lat: 42.467152, lng: -117.200077, zoom: 10, name: 'owyhee', layers: [layers.ESRI]},
        malheur: {lat: 43.2621473, lng: -118.934955, zoom: 11, name: 'malhuer', layers: [layers.ESRI]},
        xmas: {lat: 43.284782, lng: -120.9032061, zoom: 11, name: 'xmas', layers: [layers.satellite]},
        oregon: {lat: 43.0000000, lng: -120.5000000, zoom: 8.5, name: 'Oregon State', layers: [layers.ESRI]},
        end: {lat: 44.0000000, lng: -123.5000000, zoom: 7, name: 'The End'}
    };

    $('#storymap').storymap({
        scenes: scenes,
        baselayer: layers.cartodb_light,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        credits: "",
        loader: true,
        scalebar: false,
        flyo: true,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map($(".storymap-map")[0], {
                zoomControl: false, scrollWheelZoom: false, fadeAnimation: true,
                zoomAnimation: true
            }).setView([44, -120], 7);

            //add an miniglobe
            new L.Control.GlobeMiniMap({
                marker: 'orange',
                position: 'bottomright'
            }).addTo(map);


            return map;
        }
    });
</script>
</body>
</html>
